(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{c769420a9cdb6bac485f:function(e,t,o){e.exports=o.p+"e401d9487acb7c36f483834ec8587524.png"},d131b0e745290dca0f40:function(e,t,o){"use strict";o.r(t);var r=o("8af190b70a6bc55c6f1b"),a=o.n(r),n=(o("8a2d1b95e05b6a321e74"),o("d7dd51e1bf6bfc2c9c3d")),s=o("0d7f0986bcd2f33d8a2a"),c=o("ab039aecd4a1d4fedc0e"),i=o("a28fc3c963a1d4d1a2e5"),f=o("ab4cb61bcb2dc161defb"),u=o("adc20f99e57c573c589c"),d=o("d95b0cf107403b178365"),l=o("54f683fcda7806277002"),p="app/OffersPage/DEFAULT_ACTION",m=Object(l.fromJS)({});var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;switch((arguments.length>1?arguments[1]:void 0).type){case p:default:return e}},v=function(e){return e.get("offersPage",m)},y=function(){return Object(i.a)(v,function(e){return e.toJS()})},g=regeneratorRuntime.mark(h);function h(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},g)}Object(c.defineMessages)({header:{id:"".concat("app.containers.OffersPage",".header"),defaultMessage:"This is the OffersPage container!"}});var O,N=o("4f0dfcf9dfa819c812e6"),S=o("600e6bf7eefc3f53a303"),w=o("bd183afcc37eabd79225"),x=o.n(w),D=(o("fb53a21ab7ecd0262896"),o("3d0272aa0de96073dbf8"));function P(e){return(P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t,o,r){O||(O="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,n=arguments.length-3;if(t||0===n||(t={children:void 0}),1===n)t.children=r;else if(n>1){for(var s=new Array(n),c=0;c<n;c++)s[c]=arguments[c+3];t.children=s}if(t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});return{$$typeof:O,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function C(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var o,r=T(e);if(t){var a=T(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return function(e,t){if(t&&("object"===P(t)||"function"===typeof t))return t;return k(e)}(this,o)}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,"OffersPage",function(){return V});var I=j(s.Helmet,{},void 0,j("title",{},void 0,"OffersPage"),j("meta",{name:"description",content:"Description of OffersPage"})),J=j(S.a,{}),R=j("p",{className:"offers-heading"},void 0,"Offers"),L=j("div",{className:"lds-dual-ring"}),E=j("p",{className:"offers-box-heading text-center"},void 0,"Tap To Copy"),H=j("span",{className:"color-gray"},void 0,"Offered By"),B=j("span",{className:"color-gray"},void 0,"Valid Upto"),U=j("span",{className:"color-gray"},void 0,"Attempt"),F=j("p",{className:"offers-not-found-text1"},void 0,"No Offers"),$=j("p",{className:"offers-not-found-text2"},void 0,"Come Back Soon"),V=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(c,a.a.PureComponent);var t,r,n,s=_(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return A(k(e=s.call.apply(s,[this].concat(o))),"state",{customerDetails:{coupon:[]},isLoader:!0}),A(k(e),"getOffers",function(){var t=JSON.parse(sessionStorage.getItem("customerDetails"))?JSON.parse(sessionStorage.getItem("customerDetails")):e.state.customerDetails,o=window.API_URL+"/customerLogin/".concat(t._id);x.a.get(o).then(function(t){var o=t.data;o.coupon.map(function(e){return e.copied=void 0}),sessionStorage.setItem("customerDetails",JSON.stringify(o)),e.setState({customerDetails:o,isLoader:!1})}).catch(function(t){e.setState({isLoader:!1,message:"Some Error Occured",isMessageModal:!0,type:"failure"})})}),A(k(e),"modalCloseHandler",function(){setTimeout(function(){e.setState({isMessageModal:!1})},1e3)}),A(k(e),"copyCoupon",function(t,o){var r=JSON.parse(sessionStorage.getItem("customerDetails"))?JSON.parse(sessionStorage.getItem("customerDetails")):e.state.customerDetails,a=document.createElement("textarea");a.value=t,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),r.coupon[o].copied="Copied!",e.setState({customerDetails:r})}),e}return t=c,(r=[{key:"componentWillMount",value:function(){this.getOffers()}},{key:"render",value:function(){var e=this;return j("div",{},void 0,I,J,R,j("div",{className:"offers-page-outer row"},void 0,this.state.isLoader?L:this.state.customerDetails.coupon.length>0?this.state.customerDetails.coupon.map(function(t,r){return j("div",{className:"col-md-3"},r,(t.validity<(new Date).getTime()||parseInt(t.redeemAttempt)<=0)&&j("img",{className:"offers-expired-img",src:o("c769420a9cdb6bac485f")}),j("div",{onClick:function(){return!(t.validity<(new Date).getTime()||parseInt(t.redeemAttempt)<=0)&&e.copyCoupon(t.name,r)},className:"offers-box"},void 0,E,j("p",{className:"offers-box-text mr-b-10"},void 0,t.description),j("div",{className:"offers-box-text"},void 0,H," ",j("span",{className:"float-right"},void 0,t.offeredBy)),j("div",{className:"offers-box-text"},void 0,B," ",j("span",{className:"float-right"},void 0,Object(N.a)(t.validity).format("DD MMM HH:mm"))),j("div",{className:"offers-box-text"},void 0,U,"  ",j("span",{className:"float-right"},void 0,t.redeemAttempt)),j("div",{className:"offers-copy-btn-outer"},void 0,j("div",{className:"offers-copy-btn"},void 0,j("span",{className:"offers-text"},void 0,t.name))),j("p",{className:"offers-box-copied-text"},void 0,t.copied)))}):j(a.a.Fragment,{},void 0,F,$,j("img",{className:"offers-not-found",src:o("083e61dab10e9f4cfdd0")}))),this.state.isMessageModal&&j(D.a,{modalType:this.state.type,message:this.state.message,onClose:this.modalCloseHandler}))}}])&&C(t.prototype,r),n&&C(t,n),c}(),W=Object(i.b)({offersPage:y()});var q=Object(n.connect)(W,function(e){return{dispatch:e}}),z=Object(d.a)({key:"offersPage",reducer:b}),G=Object(u.a)({key:"offersPage",saga:h});t.default=Object(f.compose)(z,G,q)(V)}}]);