(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"1e8b66a715a28bcd56f8":function(e,t,a){"use strict";a.r(t);var o=a("216ee9ae289723f588c5"),n=a.n(o),i=a("8af190b70a6bc55c6f1b"),r=a.n(i),s=(a("8a2d1b95e05b6a321e74"),a("d7dd51e1bf6bfc2c9c3d")),c=a("0d7f0986bcd2f33d8a2a"),l=a("ab039aecd4a1d4fedc0e"),u=a("a28fc3c963a1d4d1a2e5"),d=a("ab4cb61bcb2dc161defb"),p=a("adc20f99e57c573c589c"),f=a("d95b0cf107403b178365"),m=a("54f683fcda7806277002"),b="app/LoginPage/DEFAULT_ACTION",g=Object(m.fromJS)({});var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;switch((arguments.length>1?arguments[1]:void 0).type){case b:default:return e}},v=function(e){return e.get("loginPage",g)},y=function(){return Object(u.a)(v,function(e){return e.toJS()})},w=regeneratorRuntime.mark(N);function N(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},w)}Object(l.defineMessages)({header:{id:"".concat("app.containers.LoginPage",".header"),defaultMessage:"This is the LoginPage container!"}});var S=a("bd183afcc37eabd79225"),P=a.n(S),C=(a("fb53a21ab7ecd0262896"),a("3d0272aa0de96073dbf8")),x=a("d9a38932efea6caf6459");a("af618d530c9a09241673");x.a.initializeApp({apiKey:"AIzaSyDKeNSATK47W8gmeZDxuJlkvEAIOWI2xuI",authDomain:"lethoos-9733e.firebaseapp.com",projectId:"lethoos-9733e",storageBucket:"lethoos-9733e.appspot.com",messagingSenderId:"335564795977",appId:"1:335564795977:web:ca716b24cb2f0ded12cf98"});var O,I=x.a;function L(e){return(L="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t,a,o){O||(O="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var r=new Array(i),s=0;s<i;s++)r[s]=arguments[s+3];t.children=r}if(t&&n)for(var c in n)void 0===t[c]&&(t[c]=n[c]);else t||(t=n||{});return{$$typeof:O,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}function U(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,o=E(e);if(t){var n=E(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return function(e,t){if(t&&("object"===L(t)||"function"===typeof t))return t;return k(e)}(this,a)}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"LoginPage",function(){return G});var R=M(c.Helmet,{},void 0,M("title",{},void 0,"LoginPage"),M("meta",{name:"description",content:"Description of LoginPage"})),T=M("p",{className:"welcome-message"},void 0,"Welcome To The Land Of Tastiest Food"),A=M("div",{id:"recaptcha-container"}),_=M("label",{}),F=M("p",{className:"incorrect-password-text"},void 0,"Incorrect Mobile Number or Password"),J=M("p",{className:"incorrect-password-text"},void 0,"User Already Exist"),q=M("div",{className:"lds-dual-ring"}),W=M("label",{className:"box-label",htmlFor:"inputlg"},void 0,"Mobile Number"),z=M("label",{className:"box-label",htmlFor:"inputlg"},void 0,"Password"),K=M("div",{className:"form-group"},void 0,M("button",{type:"submit",className:"btn btn-warning login-button"},void 0,"Login")),V=M("label",{className:"box-label",htmlFor:"inputlg"},void 0,"Name"),B=M("label",{className:"box-label",htmlFor:"inputlg"},void 0,"Mobile Number"),$=M("label",{className:"box-label",htmlFor:"inputlg"},void 0,"Password"),Y=M("div",{className:"form-group"},void 0,M("button",{type:"submit",className:"btn btn-warning login-button"},void 0,"Sign Up")),Z=M("div",{className:"reset-password-text"},void 0,M("p",{},void 0," Please Contact Admin."),M("p",{},void 0," Send Your Password request on Whatsapp at 8192095423.")),G=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(c,r.a.PureComponent);var t,o,i,s=D(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return H(k(e=s.call.apply(s,[this].concat(a))),"state",{boxContent:"login",isLoader:!1,isDetailsIncorrect:!1,payload:{name:"",mobileNumber:"",password:""}}),H(k(e),"inputChangeHandler",function(t){var a=n()(e.state.payload);a[t.target.id]=t.target.value,e.setState({payload:a,isDetailsIncorrect:!1,isUserExist:!1,isMessageModal:!1})}),H(k(e),"customerSignUp",function(t){var a=window.API_URL+"/customerLogin";P.a.post(a,t).then(function(t){var a=t.data.data;Object.keys(a).length>0?(sessionStorage.setItem("customerDetails",JSON.stringify(a)),e.props.history.push("/landingPage")):e.setState({isUserExist:!0,isLoader:!1,isDetailsIncorrect:!1})}).catch(function(t){e.setState({isLoader:!1,message:"Some Error Occured",isMessageModal:!0,type:"failure"})})}),H(k(e),"customerLogin",function(t){var a=window.API_URL+"/customerCheck";P.a.post(a,t).then(function(t){var a=t.data.data;Object.keys(a).length>0?(sessionStorage.setItem("customerDetails",JSON.stringify(a)),e.props.history.push("/landingPage")):e.setState({isDetailsIncorrect:!0,isLoader:!1,isUserExist:!1})}).catch(function(t){e.setState({isLoader:!1,message:"Some Error Occured",isMessageModal:!0,type:"failure"})})}),H(k(e),"modalCloseHandler",function(){setTimeout(function(){e.setState({isMessageModal:!1})},1e3)}),H(k(e),"changeContentHandler",function(t){e.setState({boxContent:t.target.id,payload:{name:"",mobileNumber:"",password:""},isDetailsIncorrect:!1,isUserExist:!1,isMessageModal:!1})}),H(k(e),"onSubmitHandler",function(t){var a=n()(e.state.payload);a.name=a.name.trim(),a.mobileNumber=a.mobileNumber.trim(),a.password=a.password.trim(),e.setState({isLoader:!0,isDetailsIncorrect:!1,isUserExist:!1},function(){return"signUp"==t?e.customerSignUp(a):"login"==t?e.customerLogin(a):e.resetPassword(a)})}),H(k(e),"setUpRecaptcha",function(){window.recaptchaVerifier=new I.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(t){e.onSignInSubmit()}})}),H(k(e),"onSignInSubmit",function(t){t.preventDefault(),e.setUpRecaptcha();var a="+91".concat(e.state.payload.mobileNumber),o=window.recaptchaVerifier;I.auth().signInWithPhoneNumber(a,o).then(function(t){window.confirmationResult=t;var a=window.prompt("Enter OTP");t.confirm(a).then(function(t){var a=t.user;console.log("user: ",a),e.onSubmitHandler("signUp")}).catch(function(t){console.log("error: ",t),e.setState({message:"Incorrect OTP",isMessageModal:!0,type:"failure"})})}).catch(function(t){console.log("error: ",t),e.setState({message:"SMS not sent. Please Refresh",isMessageModal:!0,type:"failure"})})}),e}return t=c,(o=[{key:"render",value:function(){var e=this;return M("div",{},void 0,R,M("div",{className:"loginPage row"},void 0,M("img",{className:"loginBanner display-none",src:a("672b68847c8195a2c9f2")}),M("span",{className:"loginbox"},void 0,M("img",{className:"login-box-icon img-responsive",src:a("054e349a68ea8f325df9")}),T,A,_,this.state.isDetailsIncorrect&&F,this.state.isUserExist&&J,this.state.isLoader?q:"login"===this.state.boxContent?M("form",{className:"mr-t-45",onSubmit:function(){return e.onSubmitHandler("login")}},void 0,M("div",{className:"form-group"},void 0,W,M("input",{value:this.state.payload.mobileNumber,title:"Enter 10 digit mobile number",id:"mobileNumber",onChange:this.inputChangeHandler,className:"form-control input-lg",type:"tel",required:!0})),M("div",{className:"form-group"},void 0,z,M("input",{value:this.state.payload.password,id:"password",onChange:this.inputChangeHandler,className:"form-control input-lg",type:"password",required:!0})),K):"signUp"===this.state.boxContent?M("form",{className:"mr-t-45",id:"signUp",onSubmit:this.onSignInSubmit},void 0,M("div",{className:"form-group"},void 0,V,M("input",{value:this.state.payload.name,id:"name",onChange:this.inputChangeHandler,className:"form-control input-lg",type:"text",required:!0})),M("div",{className:"form-group"},void 0,B,M("input",{value:this.state.payload.mobileNumber,pattern:"[1-9]{1}[0-9]{9}",title:"Enter 10 digit mobile number",id:"mobileNumber",onChange:this.inputChangeHandler,className:"form-control input-lg",type:"tel",required:!0})),M("div",{className:"form-group"},void 0,$,M("input",{value:this.state.payload.password,id:"password",onChange:this.inputChangeHandler,className:"form-control input-lg",type:"password",required:!0})),Y):Z,"login"!==this.state.boxContent&&!this.state.isLoader&&M("p",{onClick:this.changeContentHandler,id:"login",className:"reset-password"},void 0," Login"),"signUp"!==this.state.boxContent&&!this.state.isLoader&&M("p",{onClick:this.changeContentHandler,id:"signUp",className:"sign-up"},void 0," Don't have an account? Sign up"),"resetPassword"!==this.state.boxContent&&!this.state.isLoader&&M("p",{onClick:this.changeContentHandler,id:"resetPassword",className:"reset-password"},void 0," Reset Password"))),this.state.isMessageModal&&M(C.a,{modalType:this.state.type,message:this.state.message,onClose:this.modalCloseHandler}))}}])&&U(t.prototype,o),i&&U(t,i),c}(),Q=Object(u.b)({loginPage:y()});var X=Object(s.connect)(Q,function(e){return{dispatch:e}}),ee=Object(f.a)({key:"loginPage",reducer:h}),te=Object(p.a)({key:"loginPage",saga:N});t.default=Object(d.compose)(ee,te,X)(G)},"672b68847c8195a2c9f2":function(e,t,a){e.exports=a.p+"e3252b2151046c6e0444bf70b39071a1.png"}}]);